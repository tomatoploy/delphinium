<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="july.css">
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Anuphan&display=swap" rel="stylesheet">
  <title>for p'earth</title>
</head>
<body>
  <div id="cassetteBox" class="cassette">
    <div class="top-bar">
      <div class="waveform">
        <div class="message" style="margin: 12px 5px; color: rgba(256, 256, 256, 0.5); font-size: 10px;">05/07/2025</div>
      </div>
      <div class="buttons">
        <button>ÊØéÊó•„ÅÆ„ÅÜ„Åü</button> <!-- song kub-->
        <button>Âêõ„Å∏„ÅÆÊâãÁ¥ô</button> <!-- letter -->
        <button id="photoBtn">ÂÜôÁúü</button>
      </div>
    </div>
    <p style="font-size: 12px; font-weight: 200;">to : my world Àö‚óû‚ô°</p>
    <div class="player">
      <div class="tape-window">
          <div class="reel" id="leftReel"></div>
          <div class="reel" id="rightReel"></div>
      </div>
      <div class="deco">
        <div class="power-btn" id="powerBtn"></div>
        <audio id="audio" src="YOUR_AUDIO_FILE.mp3"></audio>
        <audio id="sfx-typewriter" src="typewriter.mp3"></audio>
        <audio id="sfx-envelope" src="envelope-open.mp3"></audio>
        <div class="speaker"></div>
      </div>
    </div>
    <div class="message">
      <p style="margin-bottom: 0px;">‰ªäÊó•„ÇÇÊúà„Åå„Åç„Çå„ÅÑ„Åß„Åô„Å≠„ÄÇ</p>
      <p style="margin: 0px 0px 5px 0px">2 months with you ‚ô°</p>
    </div>
  </div>

  <!-- Polaroid -->
  <div id="photoOverlay" class="photo-overlay hidden">
    <button class="close-btn">‚úñ</button>
    <div class="polaroid-container">
      <div class="polaroid" style="top:40px; left:60px; transform: rotate(-6deg);">
        <img src="img1.png" alt="Memory 1">
        <p>with you</p>
      </div>
      <div class="polaroid" style="top:100px; left:220px; transform: rotate(7deg);">
        <img src="img1.png" alt="Memory 2">
        <p>Á¨ëÈ°î„ÅÆÊó•</p>
      </div>
      <div class="polaroid" style="top:180px; left:120px; transform: rotate(-10deg);">
        <img src="img1.png" alt="Memory 3">
        <p>„ÅÑ„Å§„ÇÇ‰∏ÄÁ∑í</p>
      </div>
      <div class="polaroid" style="top:160px; left:280px; transform: rotate(5deg);">
        <img src="img1.png" alt="Memory 4">
        <p>Â§ßÂàá„Å™Êó•</p>
      </div>
    </div>
  </div>

  <script>
  const audio = document.getElementById('audio');
  const leftReel = document.getElementById('leftReel');
  const rightReel = document.getElementById('rightReel');
  const powerBtn = document.getElementById('powerBtn');
  const sfxTypewriter = document.getElementById('sfx-typewriter');
  const sfxEnvelope = document.getElementById('sfx-envelope');
  const tapeWindow = document.querySelector('.tape-window');

  let isPlaying = false;

  // ‡πÄ‡∏•‡πà‡∏ô / ‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏û‡∏•‡∏á
  powerBtn.addEventListener('click', () => {
    if (!isPlaying) {
      audio.play();
      leftReel.classList.add('playing');
      rightReel.classList.add('playing');
      isPlaying = true;
    } else {
      audio.pause();
      leftReel.classList.remove('playing');
      rightReel.classList.remove('playing');
      isPlaying = false;
    }
  });

  // ‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ó‡∏µ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡∏•‡∏∞‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î
  function typeWriterLines(lines, element, lineDelay = 1400, charSpeed = 20) {
    let lineIndex = 0;

    function typeLine() {
      if (lineIndex >= lines.length) {
        sfxTypewriter.pause(); // ‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á
        sfxTypewriter.currentTime = 0;
        return;
      }

      let charIndex = 0;
      const line = lines[lineIndex];
      const span = document.createElement("div");
      element.appendChild(span);

      const typingInterval = setInterval(() => {
        span.innerHTML += line.charAt(charIndex);
        charIndex++;

        if (charIndex >= line.length) {
          clearInterval(typingInterval);
          lineIndex++;
          setTimeout(typeLine, lineDelay);
        }
      }, charSpeed);
    }

    sfxTypewriter.currentTime = 0;
    sfxTypewriter.play();
    sfxTypewriter.loop = true;
    typeLine();
  }

  // ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏ó‡∏õ‡πÄ‡∏û‡∏•‡∏á
  const buttons = document.querySelectorAll('.buttons button');
  buttons.forEach((btn, index) => {
    btn.addEventListener('click', () => {
      if (!isPlaying) {
        audio.play();
        isPlaying = true;
      }

      if (index === 1) {
        sfxEnvelope.currentTime = 0;
        sfxEnvelope.play();

        setTimeout(() => {
          tapeWindow.innerHTML = `<div id="letterText" style="font-family: 'Anuphan', sans-serif; padding:12px; font-size:12px; line-height:1.8; color:#fff; text-align:center;"></div>`;
          const letterElement = document.getElementById('letterText');

          const letterLines = [
            `‡πÄ‡∏¢‡πà ‡∏´‡∏ß‡∏±‡∏î‡∏î‡∏µ‡∏Ñ‡∏±‡∏ö‡πÄ‡∏ó‡∏≠ ‚ú®; ‚Å∫ ‚Çä`,
            `‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏Å‡πá‡∏Ñ‡∏£‡∏ö‡∏£‡∏≠‡∏ö 2 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏∞‡∏Ñ‡∏∞`,
            `‡πÄ‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏ó‡∏≠‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡πÄ‡∏Ñ‡πâ‡∏≤ ‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡πÄ‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏Ç‡πÅ‡∏•‡∏∞‡∏ó‡∏∏‡∏Å‡∏Ç‡πå
            ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÄ‡∏ó‡∏≠‡πÄ‡∏•‡πà‡∏≤‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏™‡∏ô‡∏∏‡∏Å‡πÉ‡∏´‡πâ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏ü‡∏±‡∏á‡∏´‡∏•‡∏≤‡∏¢‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏•‡∏¢ ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏ä‡∏≠‡∏ö‡∏ü‡∏±‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏ó‡∏≠‡πÄ‡∏•‡πà‡∏≤‡∏ô‡∏∞ ‡∏≠‡∏¢‡∏≤‡∏Å‡∏≠‡∏¢‡∏π‡πà‡∏ü‡∏±‡∏á‡πÄ‡∏ó‡∏≠‡πÄ‡∏•‡πà‡∏≤‡πÄ‡∏¢‡∏≠‡∏∞ ‡πÜ ‡πÄ‡∏•‡∏¢
            ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏ó‡∏≠‡∏ó‡∏µ‡πà‡∏Ñ‡∏≠‡∏¢‡∏ã‡∏±‡∏û‡∏û‡∏≠‡∏£‡πå‡∏ï‡πÄ‡∏Ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏™‡∏°‡∏≠ ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏ó‡∏≠‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢ ‡πÄ‡∏ó‡∏≠‡∏Å‡πá‡∏¢‡∏±‡∏á‡∏ï‡∏≤‡∏°‡πÉ‡∏à‡πÄ‡∏Ñ‡πâ‡∏≤‡πÄ‡∏™‡∏°‡∏≠
            ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡πá‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏Å‡πÄ‡∏Ñ‡πâ‡∏≤‡∏ô‡∏∞ ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏£‡∏≠‡πÑ‡∏õ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏´‡∏•‡∏≤‡∏¢‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡∏Å‡∏±‡∏ö‡πÄ‡∏ó‡∏≠‡∏ô‡∏∞üíê`,
            `‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏ß‡∏±‡∏ô‡∏Ñ‡∏£‡∏ö‡∏£‡∏≠‡∏ö 2 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡∏∞‡∏Ñ‡∏∞‚åíüßöüèª‚Äç‚ôÄÔ∏è‚Åï`,
        ];
        // ‡∏£‡∏±‡∏Å‡πÅ‡∏•‡∏∞‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡πÄ‡∏ó‡∏≠‡∏ô‡∏∞
        // ‡∏à‡∏≤‡∏Å üê∞
        // 05/07/2025

          typeWriterLines(letterLines, letterElement, 1400, 30);
        }, 800);
      } else {
        // ‡∏õ‡∏∏‡πà‡∏°‡∏≠‡∏∑‡πà‡∏ô : ‡∏•‡πâ‡∏≠‡πÄ‡∏ó‡∏õ
        tapeWindow.innerHTML = `
          <div class="reel" id="leftReel"></div>
          <div class="reel" id="rightReel"></div>
        `;
        document.getElementById('leftReel').classList.add('playing');
        document.getElementById('rightReel').classList.add('playing');
      }
    });
  });

  const photoOverlay = document.getElementById('photoOverlay');
  const cassetteBox = document.getElementById('cassetteBox');

  // ‡πÅ‡∏™‡∏î‡∏á overlay ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô cassette ‡∏•‡∏á
  document.getElementById('photoBtn').addEventListener('click', () => {
    cassetteBox.classList.add('slide-down');
    photoOverlay.classList.remove('hidden');
    setTimeout(() => {
      photoOverlay.classList.add('show');
    }, 10);
  });

  // ‡∏õ‡∏¥‡∏î overlay ‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô cassette ‡∏Å‡∏•‡∏±‡∏ö
  document.querySelector('.close-btn').addEventListener('click', () => {
    photoOverlay.classList.remove('show');
    setTimeout(() => {
      photoOverlay.classList.add('hidden');
      cassetteBox.classList.remove('slide-down');
    }, 600);
  });
  </script>
</body>
</html>